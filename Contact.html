<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Contact — Aurora Real Time</title>
  <meta name="description" content="Get in touch with Aurora Real Time. Questions about Northern Lights alerts, your account, or anything else — we're here to help.">
  <meta name="theme-color" content="#0a0f1a">

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600;700&family=Outfit:wght@300;400;500;600&display=swap" rel="stylesheet">

  <style>
    /* ========================================
       VARIABLES — shared with main site
       ======================================== */
    :root {
      --color-bg-primary: #0a0f1a;
      --color-bg-secondary: #0d1929;
      --color-bg-card: rgba(255, 255, 255, 0.04);
      --color-border: rgba(255, 255, 255, 0.08);
      --color-border-hover: rgba(255, 255, 255, 0.15);
      --color-green-primary: #22c55e;
      --color-green-dark: #16a34a;
      --color-green-glow: rgba(34, 197, 94, 0.4);
      --color-teal: #2dd4bf;
      --color-text-primary: #f1f5f9;
      --color-text-secondary: #94a3b8;
      --color-text-muted: #64748b;
      --font-heading: 'Space Grotesk', system-ui, sans-serif;
      --font-body: 'Outfit', system-ui, sans-serif;
      --radius-lg: 1rem;
      --radius-xl: 1.25rem;
      --radius-2xl: 1.5rem;
      --radius-3xl: 2rem;
      --transition-base: 200ms ease;
      --transition-smooth: 300ms cubic-bezier(0.4, 0, 0.2, 1);
    }

    /* ========================================
       RESET & BASE
       ======================================== */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    html, body {
      min-height: 100%;
      width: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

    body {
      font-family: var(--font-body);
      background: var(--color-bg-primary);
      color: var(--color-text-primary);
      overflow-x: hidden;
    }

    :focus-visible {
      outline: 2px solid var(--color-green-primary);
      outline-offset: 3px;
      border-radius: 4px;
    }

    :focus:not(:focus-visible) { outline: none; }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* ========================================
       BACKGROUND
       ======================================== */
    .aurora-bg {
      background: linear-gradient(135deg,
        var(--color-bg-primary) 0%,
        var(--color-bg-secondary) 25%,
        #0a1628 50%,
        #061220 75%,
        #040810 100%
      );
    }

    .aurora-glow {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
      background: linear-gradient(180deg,
        transparent 0%,
        rgba(34, 197, 94, 0.03) 20%,
        rgba(34, 197, 94, 0.06) 40%,
        rgba(45, 212, 191, 0.03) 60%,
        transparent 100%
      );
      animation: pulse-glow 8s ease-in-out infinite;
    }

    @keyframes pulse-glow {
      0%, 100% { opacity: 0.4; }
      50% { opacity: 0.85; }
    }

    .stars {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 0;
    }

    .star {
      position: absolute;
      width: 2px;
      height: 2px;
      background: white;
      border-radius: 50%;
      animation: twinkle 3s ease-in-out infinite;
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.2; }
      50% { opacity: 1; }
    }

    /* ========================================
       LAYOUT
       ======================================== */
    .page-wrap {
      position: relative;
      z-index: 10;
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .container {
      width: 100%;
      max-width: 40rem;
      margin-inline: auto;
      padding-inline: 1.5rem;
    }

    /* ========================================
       NAV
       ======================================== */
    .nav {
      padding: 1.25rem 0;
    }

    .nav__inner {
      display: flex;
      align-items: center;
      justify-content: space-between;
    }

    .nav__brand {
      display: inline-flex;
      align-items: center;
      gap: 0.625rem;
      text-decoration: none;
      color: var(--color-text-primary);
    }

    .nav__brand-name {
      font-family: var(--font-heading);
      font-weight: 600;
      font-size: 1.125rem;
    }

    .nav__back {
      display: inline-flex;
      align-items: center;
      gap: 0.375rem;
      font-size: 0.875rem;
      color: var(--color-text-secondary);
      text-decoration: none;
      transition: color var(--transition-base);
    }

    .nav__back:hover { color: var(--color-text-primary); }

    /* ========================================
       PAGE HEADER
       ======================================== */
    .page-header {
      text-align: center;
      padding: 3rem 0 2.5rem;
    }

    .page-header__icon {
      width: 3.5rem;
      height: 3.5rem;
      border-radius: var(--radius-xl);
      background: rgba(34, 197, 94, 0.1);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.25rem;
    }

    .page-header__title {
      font-family: var(--font-heading);
      font-weight: 700;
      font-size: clamp(1.75rem, 4vw, 2.25rem);
      line-height: 1.15;
      margin-bottom: 0.75rem;
    }

    .page-header__desc {
      color: var(--color-text-secondary);
      font-size: 1rem;
      line-height: 1.6;
      max-width: 28rem;
      margin-inline: auto;
    }

    /* ========================================
       QUICK HELP CARDS
       ======================================== */
    .quick-help {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0.75rem;
      margin-bottom: 2.5rem;
    }

    .quick-card {
      background: var(--color-bg-card);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-xl);
      padding: 1.25rem 1rem;
      text-align: center;
      cursor: pointer;
      transition: all var(--transition-smooth);
      text-decoration: none;
      color: inherit;
    }

    .quick-card:hover {
      border-color: rgba(34, 197, 94, 0.25);
      background: rgba(34, 197, 94, 0.04);
      transform: translateY(-2px);
    }

    .quick-card.active {
      border-color: rgba(34, 197, 94, 0.3);
      background: rgba(34, 197, 94, 0.06);
    }

    .quick-card__icon {
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 0.625rem;
    }

    .quick-card__label {
      font-family: var(--font-heading);
      font-weight: 600;
      font-size: 0.8125rem;
      line-height: 1.3;
    }

    @media (max-width: 480px) {
      .quick-help { grid-template-columns: 1fr; gap: 0.625rem; }
      .quick-card {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        text-align: left;
        padding: 1rem;
      }
      .quick-card__icon { margin-bottom: 0; }
    }

    /* ========================================
       CONTACT FORM
       ======================================== */
    .form-card {
      background: var(--color-bg-card);
      backdrop-filter: blur(12px);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-2xl);
      padding: 2rem;
      margin-bottom: 2rem;
    }

    .form-group {
      margin-bottom: 1.25rem;
    }

    .form-group:last-of-type {
      margin-bottom: 1.5rem;
    }

    .form-label {
      display: block;
      font-family: var(--font-heading);
      font-weight: 500;
      font-size: 0.875rem;
      margin-bottom: 0.5rem;
      color: var(--color-text-primary);
    }

    .form-label .optional {
      font-weight: 400;
      color: var(--color-text-muted);
      font-family: var(--font-body);
    }

    .form-input,
    .form-select,
    .form-textarea {
      width: 100%;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-lg);
      padding: 0.75rem 1rem;
      color: var(--color-text-primary);
      font-family: var(--font-body);
      font-size: 0.9375rem;
      transition: border-color var(--transition-base), box-shadow var(--transition-base);
      appearance: none;
      -webkit-appearance: none;
    }

    .form-input::placeholder,
    .form-textarea::placeholder {
      color: var(--color-text-muted);
    }

    .form-input:focus,
    .form-select:focus,
    .form-textarea:focus {
      border-color: rgba(34, 197, 94, 0.5);
      box-shadow: 0 0 0 3px rgba(34, 197, 94, 0.1);
      outline: none;
    }

    .form-select {
      background-image: url("data:image/svg+xml,%3Csvg width='12' height='8' viewBox='0 0 12 8' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M1 1.5L6 6.5L11 1.5' stroke='%2394a3b8' stroke-width='1.5' stroke-linecap='round' stroke-linejoin='round'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      padding-right: 2.5rem;
      cursor: pointer;
    }

    .form-select option {
      background: var(--color-bg-primary);
      color: var(--color-text-primary);
    }

    .form-textarea {
      min-height: 8rem;
      resize: vertical;
      line-height: 1.6;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    @media (max-width: 480px) {
      .form-row { grid-template-columns: 1fr; gap: 0; }
    }

    /* ========================================
       SUBMIT BUTTON
       ======================================== */
    .btn-submit {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      width: 100%;
      padding: 0.875rem 1.5rem;
      border-radius: var(--radius-xl);
      background: linear-gradient(135deg, var(--color-green-primary) 0%, var(--color-green-dark) 100%);
      color: #fff;
      font-family: var(--font-heading);
      font-weight: 600;
      font-size: 1rem;
      border: none;
      cursor: pointer;
      box-shadow: 0 8px 24px rgba(34, 197, 94, 0.25);
      transition: all var(--transition-smooth);
    }

    .btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 32px var(--color-green-glow);
    }

    .btn-submit:active { transform: translateY(0); }

    .btn-submit.sending {
      opacity: 0.85;
      pointer-events: none;
    }

    .btn-submit.sent {
      background: rgba(34, 197, 94, 0.15);
      color: var(--color-green-primary);
      box-shadow: none;
      pointer-events: none;
    }

    .btn-submit.error {
      background: rgba(239, 68, 68, 0.15);
      color: #f87171;
      box-shadow: none;
    }

    /* Spinner for sending state */
    .spinner {
      width: 18px;
      height: 18px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin 0.6s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* ========================================
       FORM VALIDATION
       ======================================== */
    .form-input.invalid,
    .form-select.invalid,
    .form-textarea.invalid {
      border-color: rgba(239, 68, 68, 0.5);
      box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
    }

    .form-error {
      color: #f87171;
      font-size: 0.8125rem;
      margin-top: 0.375rem;
      display: none;
    }

    .form-error.visible {
      display: block;
    }

    /* ========================================
       INFO SECTION
       ======================================== */
    .info-row {
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      padding: 1.25rem 0;
    }

    .info-row + .info-row {
      border-top: 1px solid var(--color-border);
    }

    .info-icon {
      flex-shrink: 0;
      width: 2.5rem;
      height: 2.5rem;
      border-radius: var(--radius-lg);
      background: rgba(34, 197, 94, 0.08);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .info-title {
      font-family: var(--font-heading);
      font-weight: 600;
      font-size: 0.9375rem;
      margin-bottom: 0.125rem;
    }

    .info-text {
      font-size: 0.875rem;
      color: var(--color-text-secondary);
      line-height: 1.55;
    }

    .info-text a {
      color: var(--color-green-primary);
      text-decoration: none;
      transition: opacity var(--transition-base);
    }

    .info-text a:hover { opacity: 0.8; }

    /* ========================================
       FOOTER
       ======================================== */
    .footer {
      border-top: 1px solid rgba(255, 255, 255, 0.05);
      padding: 2rem 0;
      margin-top: auto;
    }

    .footer__inner {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
      font-size: 0.75rem;
      color: var(--color-text-muted);
    }

    .footer__links {
      display: flex;
      gap: 1.5rem;
    }

    .footer__links a {
      font-size: 0.8125rem;
      color: var(--color-text-secondary);
      text-decoration: none;
      transition: color var(--transition-base);
    }

    .footer__links a:hover { color: var(--color-text-primary); }

    /* ========================================
       ANIMATIONS
       ======================================== */
    @keyframes fade-up {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .fade-up { animation: fade-up 0.6s ease-out forwards; }
    .fade-up-d1 { opacity: 0; animation: fade-up 0.6s ease-out 0.1s forwards; }
    .fade-up-d2 { opacity: 0; animation: fade-up 0.6s ease-out 0.2s forwards; }
    .fade-up-d3 { opacity: 0; animation: fade-up 0.6s ease-out 0.3s forwards; }
  </style>
</head>
<body class="aurora-bg">

  <!-- Atmosphere -->
  <div class="stars" aria-hidden="true">
    <div class="star" style="top:8%;left:12%;animation-delay:0s"></div>
    <div class="star" style="top:18%;left:78%;animation-delay:0.5s"></div>
    <div class="star" style="top:33%;left:24%;animation-delay:1s"></div>
    <div class="star" style="top:13%;left:58%;animation-delay:1.5s"></div>
    <div class="star" style="top:6%;left:42%;animation-delay:2.5s"></div>
    <div class="star" style="top:22%;left:4%;animation-delay:0.3s"></div>
    <div class="star" style="top:4%;left:33%;animation-delay:1.8s"></div>
    <div class="star" style="top:28%;left:53%;animation-delay:0.8s"></div>
  </div>
  <div class="aurora-glow" aria-hidden="true"></div>

  <div class="page-wrap">

    <!-- NAV -->
    <nav class="nav container" aria-label="Main navigation">
      <div class="nav__inner">
        <a href="index.html" class="nav__brand" aria-label="Aurora Real Time — Home">
          <svg width="32" height="32" viewBox="0 0 40 40" fill="none" aria-hidden="true">
            <path d="M5 32 L20 12 L35 32" stroke="url(#c-grad)" stroke-width="2" fill="none"/>
            <path d="M8 28 Q20 5 32 28" stroke="#22c55e" stroke-width="3" fill="none" opacity="0.8"/>
            <path d="M12 25 Q20 8 28 25" stroke="#2dd4bf" stroke-width="2" fill="none" opacity="0.6"/>
            <defs>
              <linearGradient id="c-grad" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" stop-color="#22c55e"/>
                <stop offset="100%" stop-color="#2dd4bf"/>
              </linearGradient>
            </defs>
          </svg>
          <span class="nav__brand-name">Aurora Real Time</span>
        </a>
        <a href="index.html" class="nav__back">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m15 18-6-6 6-6"/></svg>
          Back
        </a>
      </div>
    </nav>

    <!-- MAIN -->
    <main class="container" style="flex:1">

      <!-- Header -->
      <header class="page-header fade-up">
        <div class="page-header__icon">
          <svg width="24" height="24" fill="none" stroke="#22c55e" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M21 15a2 2 0 01-2 2H7l-4 4V5a2 2 0 012-2h14a2 2 0 012 2z"/>
          </svg>
        </div>
        <h1 class="page-header__title">How can we help?</h1>
        <p class="page-header__desc">Got a question or running into an issue? Pick a topic or send us a message and we'll get back to you.</p>
      </header>

      <!-- Quick-help topics -->
      <div class="quick-help fade-up-d1">
        <button class="quick-card" data-topic="alerts" type="button">
          <div class="quick-card__icon">
            <svg width="22" height="22" fill="none" stroke="#22c55e" viewBox="0 0 24 24" stroke-width="1.75" stroke-linecap="round">
              <path d="M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6 6 0 00-5-5.917V4a1 1 0 10-2 0v1.083A6 6 0 006 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0a3 3 0 11-6 0m6 0H9"/>
            </svg>
          </div>
          <span class="quick-card__label">Alert Issues</span>
        </button>
        <button class="quick-card" data-topic="payment" type="button">
          <div class="quick-card__icon">
            <svg width="22" height="22" fill="none" stroke="#22c55e" viewBox="0 0 24 24" stroke-width="1.75" stroke-linecap="round">
              <rect x="1" y="4" width="22" height="16" rx="2" ry="2"/><line x1="1" y1="10" x2="23" y2="10"/>
            </svg>
          </div>
          <span class="quick-card__label">Payment & Refunds</span>
        </button>
        <button class="quick-card" data-topic="other" type="button">
          <div class="quick-card__icon">
            <svg width="22" height="22" fill="none" stroke="#22c55e" viewBox="0 0 24 24" stroke-width="1.75" stroke-linecap="round">
              <circle cx="12" cy="12" r="10"/><path d="M9.09 9a3 3 0 015.83 1c0 2-3 3-3 3"/><line x1="12" y1="17" x2="12.01" y2="17"/>
            </svg>
          </div>
          <span class="quick-card__label">General Question</span>
        </button>
      </div>

      <!-- Netlify Form -->
      <form
        name="contact"
        method="POST"
        data-netlify="true"
        netlify-honeypot="bot-field"
        id="contact-form"
        class="form-card fade-up-d2"
      >
        <!-- Hidden field for Netlify to identify the form -->
        <input type="hidden" name="form-name" value="contact">

        <!-- Honeypot field to catch bots (hidden from real users) -->
        <p style="display:none">
          <label>Don't fill this out if you're human: <input name="bot-field"></label>
        </p>

        <div class="form-row">
          <div class="form-group">
            <label for="name" class="form-label">Name <span class="optional">(optional)</span></label>
            <input type="text" id="name" name="name" class="form-input" placeholder="Your name" autocomplete="name">
          </div>
          <div class="form-group">
            <label for="email" class="form-label">Email</label>
            <input type="email" id="email" name="email" class="form-input" placeholder="you@example.com" required autocomplete="email">
            <p class="form-error" id="email-error">Please enter a valid email address.</p>
          </div>
        </div>

        <div class="form-group">
          <label for="subject" class="form-label">Subject</label>
          <select id="subject" name="subject" class="form-select" required>
            <option value="" disabled selected>Choose a topic…</option>
            <option value="not-receiving">Not receiving alerts</option>
            <option value="wrong-number">Wrong phone number</option>
            <option value="refund">Refund request</option>
            <option value="extend">Extend my pass</option>
            <option value="coverage">Coverage & locations</option>
            <option value="feedback">Feedback or suggestion</option>
            <option value="partnership">Partnership inquiry</option>
            <option value="other">Other</option>
          </select>
          <p class="form-error" id="subject-error">Please choose a topic.</p>
        </div>

        <div class="form-group">
          <label for="message" class="form-label">Message</label>
          <textarea id="message" name="message" class="form-textarea" placeholder="Describe your question or issue…" required></textarea>
          <p class="form-error" id="message-error">Please enter your message.</p>
        </div>

        <button type="submit" id="send-btn" class="btn-submit">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>
          Send Message
        </button>
      </form>

      <!-- Contact info -->
      <div class="fade-up-d3" style="margin-bottom:3rem">
        <div class="info-row">
          <div class="info-icon">
            <svg width="18" height="18" fill="none" stroke="#22c55e" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round"><path d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
          </div>
          <div>
            <p class="info-title">Response time</p>
            <p class="info-text">We typically respond within 12 hours. Urgent alert issues are prioritized.</p>
          </div>
        </div>
        <div class="info-row">
          <div class="info-icon">
            <svg width="18" height="18" fill="none" stroke="#22c55e" viewBox="0 0 24 24" stroke-width="2" stroke-linecap="round"><path d="M12 22s-8-4.5-8-11.8A8 8 0 0112 2a8 8 0 018 8.2c0 7.3-8 11.8-8 11.8z"/><circle cx="12" cy="10" r="3"/></svg>
          </div>
          <div>
            <p class="info-title">Based in Tromsø</p>
            <p class="info-text">We operate from Northern Norway (CET/CEST timezone) during aurora season, September through March.</p>
          </div>
        </div>
      </div>

    </main>

    <!-- FOOTER -->
    <footer class="footer">
      <div class="container">
        <div class="footer__inner">
          <span>© 2025 Aurora Real Time. Tromsø, Norway.</span>
          <nav class="footer__links" aria-label="Footer navigation">
            <a href="privacy.html">Privacy</a>
            <a href="terms.html">Terms</a>
          </nav>
        </div>
      </div>
    </footer>

  </div>

  <script>
    // --- Quick topic cards → auto-select subject ---
    const topicMap = {
      'alerts': 'not-receiving',
      'payment': 'refund',
      'other': 'other'
    };

    document.querySelectorAll('.quick-card').forEach(card => {
      card.addEventListener('click', () => {
        document.querySelectorAll('.quick-card').forEach(c => c.classList.remove('active'));
        card.classList.add('active');

        const topic = card.getAttribute('data-topic');
        const subjectSelect = document.getElementById('subject');
        if (topicMap[topic]) {
          subjectSelect.value = topicMap[topic];
          // Clear validation error if present
          subjectSelect.classList.remove('invalid');
          document.getElementById('subject-error').classList.remove('visible');
        }

        document.getElementById('message').focus();
      });
    });

    // --- Clear validation on input ---
    ['email', 'message'].forEach(id => {
      document.getElementById(id).addEventListener('input', function () {
        this.classList.remove('invalid');
        document.getElementById(`${id}-error`).classList.remove('visible');
      });
    });

    document.getElementById('subject').addEventListener('change', function () {
      this.classList.remove('invalid');
      document.getElementById('subject-error').classList.remove('visible');
    });

    // --- SVG icon templates ---
    const icons = {
      send: `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/></svg>`,
      check: `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"><path d="M5 13l4 4L19 7"/></svg>`,
      spinner: `<span class="spinner"></span>`,
      error: `<svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><line x1="15" y1="9" x2="9" y2="15"/><line x1="9" y1="9" x2="15" y2="15"/></svg>`
    };

    // --- Form submission via Fetch (AJAX) ---
    const form = document.getElementById('contact-form');
    const btn = document.getElementById('send-btn');

    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      // Validate fields
      const email = document.getElementById('email');
      const subject = document.getElementById('subject');
      const message = document.getElementById('message');
      let isValid = true;

      if (!email.value.trim() || !email.validity.valid) {
        email.classList.add('invalid');
        document.getElementById('email-error').classList.add('visible');
        isValid = false;
      }

      if (!subject.value) {
        subject.classList.add('invalid');
        document.getElementById('subject-error').classList.add('visible');
        isValid = false;
      }

      if (!message.value.trim()) {
        message.classList.add('invalid');
        document.getElementById('message-error').classList.add('visible');
        isValid = false;
      }

      if (!isValid) return;

      // --- Sending state ---
      btn.classList.add('sending');
      btn.innerHTML = `${icons.spinner} Sending…`;

      try {
        const formData = new FormData(form);

        const response = await fetch('/', {
          method: 'POST',
          headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
          body: new URLSearchParams(formData).toString()
        });

        if (!response.ok) throw new Error(`Server error: ${response.status}`);

        // --- Success state ---
        btn.classList.remove('sending');
        btn.classList.add('sent');
        btn.innerHTML = `${icons.check} Message sent!`;

        // Reset form fields
        form.reset();
        document.querySelectorAll('.quick-card').forEach(c => c.classList.remove('active'));

        // Restore button after 5 seconds
        setTimeout(() => {
          btn.classList.remove('sent');
          btn.innerHTML = `${icons.send} Send Message`;
        }, 5000);

      } catch (error) {
        console.error('Form submission error:', error);

        // --- Error state ---
        btn.classList.remove('sending');
        btn.classList.add('error');
        btn.innerHTML = `${icons.error} Something went wrong — try again`;

        // Restore button after 4 seconds
        setTimeout(() => {
          btn.classList.remove('error');
          btn.innerHTML = `${icons.send} Send Message`;
        }, 4000);
      }
    });
  </script>
</body>
</html>
